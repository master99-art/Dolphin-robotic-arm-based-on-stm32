[TOC]

# 技术报告

## 作品简介

本作品是一款四自由度的三轴运动的多模式海豚机械臂。

模式一：通过蓝牙遥控机械臂抓取物块等操作。

模式二：以RDKx5作为上位机，使用摄像头视觉USB摄像头获取图像，通过纯视觉的算法识别物块的属性（颜色，二维坐标），通过串口发送给以stm32f1c8t6为核心的下位机，下位机获取到字节流后，解算出物块属性，进行抓取，分类等操作。

## 制作过程

1. 收集资料，了解构造和分配任务
2. 各个队员进行基本知识学习
3. 开始制作负责模块
4. 组装，调试
5. 生产成品

## 原理说明

- 模式一：用户端蓝牙打包角度数据，发送给stm32，stm32解算数据后将角度赋给舵机
- 模式二：连接电源，机械臂唤醒，上位机采用opencv纯视觉算法，对相机获取到的图片进行操作，从而获取物块的颜色，空间坐标。然后上位机通过使用串口发送定长的数据包给stm32f1（下位机），下位机获取到上位机通过串口传来的16字节的数据后，进行对这16字节结算拼接，从而获取物块的信息，获取到信息后下位机进行运动学逆解，获得目标位置的具体舵机pwm输出值，然后操作海豚机械臂到目标位置，控制夹爪进行抓取。

## 特点

- 模式一：采用无线遥控技术操控机械臂

- 模式二：
  - 通过视觉识别颜色五块：占用内存小，没有使用深度学习
    - 采用传统视觉（纯OpenCV）的方法来进行不同颜色正方体（<u>边长为2.5cm</u>）的识别。通过对摄像头采样图像进行**HSV**通道的颜色提取处理，将正方体最亮的面（**顶面**）标注出来，再利用形态学**开运算**、**OSTU阈值处理**，将纯色图像处理为二值图像。之后使用**cv2.findContour**函数寻找轮廓并进行**多边形拟合**，成功找到正方体顶面的四个顶点。最后使用**cv2.solvePnP**函数进行正方体的姿态求解，找出正方体中心点对于相机坐标系的坐标。
  
- 海豚机械臂的机械结构：机械结构复杂，舵机均在底盘，机械臂部分轻巧易移动
  - 机械臂总共有**四个轴**，从下到上分别为A轴，B轴，C轴，D轴。A轴使用同步带轮，通过舵机由小齿轮带动大齿轮进行转动，并用了一个**深沟球轴承**实现A轴的转动，B轴通过在BC连杆中挖了一个**一字舵盘**的槽，用以与舵机啮合，使舵机得以带动BC连杆转动，C轴舵机放在B轴对面，通过与C轴摇杆连接带动上方C轴运动，D轴使用一个小舵机与主动齿啮合带动两个从动齿转动，从而实现夹取物体。该机械臂是学习阿奇的海豚机械臂进行设计并绘制的，首先通过在solidworks绘制每一个零件（标准件除外），然后进行装配，再到使用实验室的3D打印，再进行组装。
  
    


## 创新点

- 采用舵机均在底盘的结构，结构轻巧，机械臂手易于移动，同时A轴兼备传动轮，使得运行更加稳定





